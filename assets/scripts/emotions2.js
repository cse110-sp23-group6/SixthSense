import{QUOTES as i,RAW_EMOTIONS as t,READING_TYPES as n}from"./constants.js";import{randomArrayItem as d,shuffleArray as a}from"./helpers.js";import{playButtonHoverSound as c}from"./VolumeControl.js";window.addEventListener("DOMContentLoaded",function(){var e=new URLSearchParams(window.location.search);const o=document.getElementById("next"),s=(o.disabled=!0,null!=(e=e.get("reading"))&&n.includes(e)||(window.location.href="choose-your-fortune.html"),e=a(t),document.getElementById("button-container"));e.forEach(t=>{var e=d(i[t]);const n=document.createElement("button");n.classList.add("button"),n.textContent=e,[].push(n),n.addEventListener("click",function(){var e=document.getElementsByClassName("button selected");0==e.length?(o.disabled=!1,this.classList.add("selected"),s.setAttribute("selectedEmotion",t)):e.item(0).innerText==n.innerText?(o.disable=!0,this.classList.remove("selected")):(o.disable=!1,e.item(0).classList.remove("selected"),this.classList.add("selected"),s.setAttribute("selectedEmotion",t))}),n.addEventListener("mouseenter",function(){c("assets/sounds/button-hover.mp3")}),s.appendChild(n)}),e=document.createElement("volume-control"),document.getElementById("sound-button-container").appendChild(e),document.getElementById("back").addEventListener("click",function(){window.localStorage.removeItem("emotion2"),window.location.href="emotions1.html"+window.location.search}),o.addEventListener("click",function(){window.localStorage.setItem("emotion2",JSON.stringify({emotion:s.getAttribute("selectedEmotion"),timestamp:Date.now()/1e3})),window.location.href="reading.html"+window.location.search}),o.addEventListener("mouseenter",c)});